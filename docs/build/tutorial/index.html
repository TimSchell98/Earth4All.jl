<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tutorial · Earth4All documentation</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Earth4All documentation</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Tutorial</a><ul class="internal"><li><a class="tocitem" href="#Replicating-the-Too-Little-Too-Late-scenario"><span>Replicating the Too Little Too Late scenario</span></a></li><li><a class="tocitem" href="#Replicating-the-Giant-Leap-scenario"><span>Replicating the Giant Leap scenario</span></a></li></ul></li><li><a class="tocitem" href="../earth4all/">The Earth4All model</a></li><li><span class="tocitem">Sectors</span><ul><li><a class="tocitem" href="../climate/">Climate</a></li><li><a class="tocitem" href="../demand/">Demand</a></li><li><a class="tocitem" href="../energy/">Energy</a></li><li><a class="tocitem" href="../finance/">Finance</a></li><li><a class="tocitem" href="../foodland/">Food and land</a></li><li><a class="tocitem" href="../inventory/">Inventory</a></li><li><a class="tocitem" href="../labourmarket/">Labour market</a></li><li><a class="tocitem" href="../other/">Other performance indicators</a></li><li><a class="tocitem" href="../output/">Output</a></li><li><a class="tocitem" href="../population/">Population</a></li><li><a class="tocitem" href="../public/">Public</a></li><li><a class="tocitem" href="../wellbeing/">Wellbeing</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Tutorial</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tutorial</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/worlddynamics/Earth4All/blob/master/docs/src/tutorial.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="A-tutorial-of-the-Julia-implementation-of-the-Earth4All-model"><a class="docs-heading-anchor" href="#A-tutorial-of-the-Julia-implementation-of-the-Earth4All-model">A tutorial of the Julia implementation of the Earth4All model</a><a id="A-tutorial-of-the-Julia-implementation-of-the-Earth4All-model-1"></a><a class="docs-heading-anchor-permalink" href="#A-tutorial-of-the-Julia-implementation-of-the-Earth4All-model" title="Permalink"></a></h1><p>The Julia implementation of the Earth4All model allows the user to <em>play</em> with the Earth4All model introduced in <a href="https://www.clubofrome.org/publication/earth4all-book/">Dixson2022</a>. This model is formed by twelve sectors (see the <a href="../earth4all/">The Earth4All model</a> page).</p><p>In the Julia implementation each sector is a Julia module containing a Julia function, which defines the ODE system corresponding to the sector itself. All the ODE systems corresponding to the sectors of the Earth4All model have to be composed. This will produce the entire ODE system of the Earth4All model, which can then be solved.</p><p>Let us now see how we can replicate the two scenarios described in the above mentioned book.</p><h2 id="Replicating-the-Too-Little-Too-Late-scenario"><a class="docs-heading-anchor" href="#Replicating-the-Too-Little-Too-Late-scenario">Replicating the Too Little Too Late scenario</a><a id="Replicating-the-Too-Little-Too-Late-scenario-1"></a><a class="docs-heading-anchor-permalink" href="#Replicating-the-Too-Little-Too-Late-scenario" title="Permalink"></a></h2><p>In order to simulate the Too Little Too Late scenario, we can simply execute the following code (assuming that we started the Julia REPL within the directory Earth4All of the repository).</p><pre><code class="nohighlight hljs">using ModelingToolkit
using PlotlyJS
using WorldDynamics
include(&quot;Earth4All.jl&quot;);
e4a_sol = Earth4All.e4a_run_tltl_solution();</code></pre><p>This may require some time, because the used Julia packages have to be precompiled.</p><p>In order to check that the solution is consistent with the solution produced by the Vensim implementation (using the Euler solver with time step equal <span>$0.015625$</span>), we can plot the values of any variable according to the two solutions. Suppose, for example, that we want to check the <code>POP</code> variable, which is contained in the population Vensim view (its Vensim name is <code>Population Mp</code>). To this aim we read the values of all variables included in the Vensim population view.   </p><pre><code class="nohighlight hljs">vensim = Earth4All.read_vensim_dataset(&quot;../VensimOutput/tltl/population.txt&quot;, &quot; : E4A-220501 TLTL&quot;);</code></pre><p>(note that the second parameter is a string that has to be ignored while reading the variable values).</p><p>We then create the ODE system corresponding to the Population sector.</p><pre><code class="nohighlight hljs">@named pop = Earth4All.Population.population();</code></pre><p>Finally, we compare and plot the values of the variable <code>POP</code> obtained by the Vensim implementation and the WorldDynamics implementation.</p><pre><code class="nohighlight hljs">Earth4All.compare_and_plot(&quot;Too Little Too Late&quot;, e4a_sol, &quot;Population Mp&quot;, pop.POP, vensim, 1980, 2100, 7681, 0.1, true)</code></pre><p>If everything worked fine, the following figure should be produced.</p><div align="center"><img src="../imgs/vensim_vs_worlddynamics/POP_tltl.png" width="500" height="500">
</div><h2 id="Replicating-the-Giant-Leap-scenario"><a class="docs-heading-anchor" href="#Replicating-the-Giant-Leap-scenario">Replicating the Giant Leap scenario</a><a id="Replicating-the-Giant-Leap-scenario-1"></a><a class="docs-heading-anchor-permalink" href="#Replicating-the-Giant-Leap-scenario" title="Permalink"></a></h2><p>In order to simulate the Giant Leap scenario, we can execute a similar code.</p><pre><code class="nohighlight hljs">e4a_sol = Earth4All.e4a_run_gl_solution();
vensim = Earth4All.read_vensim_dataset(&quot;../VensimOutput/gl/population.txt&quot;, &quot; : E4A-220501 GL&quot;);
@named pop = Earth4All.Population.population();
Earth4All.compare_and_plot(&quot;Giant Leap&quot;, e4a_sol, &quot;Population Mp&quot;, pop.POP, vensim, 1980, 2100, 7681, 0.1, true)</code></pre><p>If everything worked fine, the following figure should be produced.</p><div align="center"><img src="../imgs/vensim_vs_worlddynamics/POP_gl.png" width="500" height="500">

</div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../earth4all/">The Earth4All model »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Sunday 28 May 2023 11:39">Sunday 28 May 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
